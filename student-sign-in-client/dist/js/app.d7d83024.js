(()=>{"use strict";var t={8420:(t,e,n)=>{n(6992),n(8674),n(9601),n(7727);var r=n(5010),d=n(3396),u=(0,d._)("h1",{id:"title-header"},"Student Sign-in",-1);function a(t,e,n,r,a,s){var o=(0,d.up)("new-student-form"),i=(0,d.up)("student-table"),l=(0,d.up)("student-message");return(0,d.wg)(),(0,d.iD)(d.HY,null,[u,(0,d.Wm)(o,{onStudentAdded:s.newStudentAdded},null,8,["onStudentAdded"]),(0,d.Wm)(i,{students:a.students,onStudentArrivedOrLeft:s.studentArrivedOrLeft,onDeleteStudentTable:s.studentDeleted},null,8,["students","onStudentArrivedOrLeft","onDeleteStudentTable"]),(0,d.Wm)(l,{student:a.mostRecentStudent},null,8,["student"])],64)}n(2222),n(8309);var s=n(7139),o={key:0,class:"alert alert-danger"},i={class:"card add-student m-2 p-2"},l=(0,d._)("h4",{class:"card-title"},"Add new student",-1),c={class:"form-group"},f=(0,d._)("label",{for:"name"},"Name",-1),p={class:"form-group"},h=(0,d._)("label",{for:"starID"},"Star ID",-1);function m(t,e,n,u,a,m){return(0,d.wg)(),(0,d.iD)("div",null,[a.errors.length>0?((0,d.wg)(),(0,d.iD)("div",o,[(0,d._)("ul",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(a.errors,(function(t){return(0,d.wg)(),(0,d.iD)("li",null,(0,s.zw)(t),1)})),256))])])):(0,d.kq)("",!0),(0,d._)("div",i,[l,(0,d._)("div",c,[f,(0,d.wy)((0,d._)("input",{id:"name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.newStudentName=t})},null,512),[[r.nr,a.newStudentName,void 0,{trim:!0}]])]),(0,d._)("div",p,[h,(0,d.wy)((0,d._)("input",{id:"starID",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.newStarID=t})},null,512),[[r.nr,a.newStarID,void 0,{trim:!0}]])]),(0,d._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(){return m.addStudent&&m.addStudent.apply(m,arguments)})},"Add")])])}n(4603),n(8450),n(4916),n(8386),n(9714),n(7601);const w={name:"NewStudentForm",emits:["student-added"],data:function(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent:function(){var t=new RegExp("^[A-Z]{2}[0-9]{4}[A-Z]{2}$");if(this.errors=[],this.newStudentName||this.errors.push("Student name must be entered."),this.newStarID||this.errors.push("StarID must be entered."),t.test(this.newStarID)||this.errors.push("StartID must have AA####BB format. "),0===this.errors.length){var e={name:this.newStudentName,starID:this.newStarID,present:!1};this.newStarID="",this.newStudentName="",this.$emit("student-added",e)}}}};var v=n(89);const S=(0,v.Z)(w,[["render",m]]),b=S;var _={key:0},g={key:0,class:"alert alert-success"},D={key:1,class:"alert alert-info"};function y(t,e,n,r,u,a){return n.student.name?((0,d.wg)(),(0,d.iD)("div",_,[n.student.present?((0,d.wg)(),(0,d.iD)("div",g," Welcome, "+(0,s.zw)(n.student.name)+"! Glad to have you here. ",1)):((0,d.wg)(),(0,d.iD)("div",D," Goodbye, "+(0,s.zw)(n.student.name)+"! See you later. ",1))])):(0,d.kq)("",!0)}const O={name:"StudentMessage",props:{student:Object}},k=(0,v.Z)(O,[["render",y]]),A=k;var I=function(t){return(0,d.dD)("data-v-44106ee3"),t=t(),(0,d.Cn)(),t},R={class:"card student-list m-2 p-2"},T=I((function(){return(0,d._)("h4",{class:"card-title"},"Student List",-1)})),L={class:"edit-table-toggle form-check"},$=I((function(){return(0,d._)("label",{for:"edit-table"},"Edit table?",-1)})),N={id:"student-table"},j={class:"table"},x=I((function(){return(0,d._)("th",null,"Name",-1)})),C=I((function(){return(0,d._)("th",null,"StarID",-1)})),Z=I((function(){return(0,d._)("th",null,"Present?",-1)}));function U(t,e,n,u,a,s){var o=(0,d.up)("student-row");return(0,d.wg)(),(0,d.iD)("div",R,[T,(0,d._)("div",L,[(0,d.wy)((0,d._)("input",{id:"edit-table",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.editTable=t})},null,512),[[r.e8,a.editTable]]),$]),(0,d._)("div",N,[(0,d._)("table",j,[(0,d._)("tr",null,[x,C,Z,(0,d.wy)((0,d._)("th",null,"Delete",512),[[r.F8,a.editTable]])]),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(n.students,(function(t){return(0,d.wg)(),(0,d.j4)(o,{student:t,"edit-table-row":a.editTable,onStudentArrivedOrLeftRow:s.arrivedOrLeft,onDeleteStudentRow:s.deleteStudent},null,8,["student","edit-table-row","onStudentArrivedOrLeftRow","onDeleteStudentRow"])})),256))])])])}var z=n(2464),F=["checked"];function E(t,e,n,u,a,o){return(0,d.wg)(),(0,d.iD)("tr",{class:(0,s.C_)({present:n.student.present,absent:!n.student.present})},[(0,d._)("td",null,(0,s.zw)(n.student.name),1),(0,d._)("td",null,(0,s.zw)(n.student.starID),1),(0,d._)("td",null,[(0,d._)("input",{type:"checkbox",checked:n.student.present,onChange:e[0]||(e[0]=function(t){return o.arrivedOrLeft(n.student,t.target.checked)})},null,40,F)]),(0,d.wy)((0,d._)("td",null,[(0,d._)("img",{src:z,onClick:e[1]||(e[1]=function(){return o.deleteStudent&&o.deleteStudent.apply(o,arguments)})})],512),[[r.F8,n.editTableRow]])],2)}const P={name:"StudentRow",props:{student:Object,editTableRow:Boolean},methods:{arrivedOrLeft:function(t,e){this.$emit("student-arrived-or-left-row",t,e)},deleteStudent:function(){confirm("Are you sure you want to delete ".concat(this.student.name,"?"))&&this.$emit("delete-student-row",this.student)}}},W=(0,v.Z)(P,[["render",E],["__scopeId","data-v-058b4c64"]]),B=W,H={name:"StudentTable",components:{StudentRow:B},emits:["student-arrived-or-left","delete-student-table"],props:{students:Array},data:function(){return{editTable:!1}},methods:{arrivedOrLeft:function(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent:function(t){this.$emit("delete-student-table",t)}}},M=(0,v.Z)(H,[["render",U],["__scopeId","data-v-44106ee3"]]),V=M,Y={name:"App",components:{StudentMessage:A,StudentTable:V,NewStudentForm:b},data:function(){return{students:[],mostRecentStudent:{}}},mounted:function(){this.updateStudents()},methods:{updateStudents:function(){var t=this;this.$student_api.getAllStudents().then((function(e){t.students=e}))["catch"]((function(){return alert("Unable to fetch student list.")}))},newStudentAdded:function(t){var e=this;this.$student_api.addStudent(t).then((function(){e.updateStudents()}))["catch"]((function(e){var n=e.response.data;alert("Error adding student ".concat(t.name,"! \n ").concat(n))}))},studentArrivedOrLeft:function(t,e){var n=this;t.present=e,this.$student_api.updateStudent(t).then((function(){n.mostRecentStudent=t,n.updateStudents()}))["catch"]((function(){return alert("Unable to update student.")}))},studentDeleted:function(t){var e=this;this.$student_api.deleteStudent(t.id).then((function(){e.updateStudents(),e.mostRecentStudent={}}))["catch"]((function(t){return alert("Unable to delete student. ".concat(t.message))}))}}},q=(0,v.Z)(Y,[["render",a]]),G=q;var K=n(6265),J=n.n(K),Q="/api/students";const X={getAllStudents:function(){return J().get(Q).then((function(t){return t.data}))},addStudent:function(t){return J().post(Q,t).then((function(t){return t.data}))},updateStudent:function(t){return J().patch("".concat(Q,"/").concat(t.id),t).then((function(t){return t.data}))},deleteStudent:function(t){return J()["delete"]("".concat(Q,"/").concat(t)).then((function(t){return t.data}))}};var tt=(0,r.ri)(G);tt.config.globalProperties.$student_api=X,tt.mount("#app")},2464:(t,e,n)=>{t.exports=n.p+"img/delete-icon.db6e5e1b.png"}},e={};function n(r){var d=e[r];if(void 0!==d)return d.exports;var u=e[r]={exports:{}};return t[r](u,u.exports,n),u.exports}n.m=t,(()=>{var t=[];n.O=(e,r,d,u)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,d,u]=t[l],s=!0,o=0;o<r.length;o++)(!1&u||a>=u)&&Object.keys(n.O).every((t=>n.O[t](r[o])))?r.splice(o--,1):(s=!1,u<a&&(a=u));if(s){t.splice(l--,1);var i=d();void 0!==i&&(e=i)}}return e}u=u||0;for(var l=t.length;l>0&&t[l-1][2]>u;l--)t[l]=t[l-1];t[l]=[r,d,u]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{n.p="/"})(),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var d,u,[a,s,o]=r,i=0;if(a.some((e=>0!==t[e]))){for(d in s)n.o(s,d)&&(n.m[d]=s[d]);if(o)var l=o(n)}for(e&&e(r);i<a.length;i++)u=a[i],n.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return n.O(l)},r=self["webpackChunkweb_class_week_11_student_list"]=self["webpackChunkweb_class_week_11_student_list"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(8420)));r=n.O(r)})();
//# sourceMappingURL=app.d7d83024.js.map